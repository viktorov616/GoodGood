"use strict";function Menu(){this.btnOpen=document.getElementById("nav-toggle-open"),this.btnClose=document.getElementById("nav-toggle-close"),this.mainNav=document.getElementById("main-nav"),this.open=this.open.bind(this),this.close=this.close.bind(this)}function Slider(e){this.name=e,this.controls=document.getElementById(this.name+"-controls"),this.btnLeft=document.getElementById(this.name+"-btn-left"),this.btnRight=document.getElementById(this.name+"-btn-right"),this.slides=document.getElementsByClassName(this.name+"__item"),this.slideLeft=this.slideLeft.bind(this),this.slideRight=this.slideRight.bind(this),this.manageSlideChange=this.manageSlideChange.bind(this)}Menu.prototype.open=function(){clearTimeout(this.timerMainNavShow),clearTimeout(this.timerMainNavHide),this.mainNav.classList.remove("main-nav--hide"),this.btnOpen.classList.add("main-header__nav-controls-btn--hide"),this.btnClose.classList.remove("main-header__nav-controls-btn--hide"),this.mainNav.classList.add("main-nav--show")},Menu.prototype.close=function(){var e=this;this.btnOpen.classList.remove("main-header__nav-controls-btn--hide"),this.btnClose.classList.add("main-header__nav-controls-btn--hide"),this.mainNav.classList.add("main-nav--hide"),this.timerMainNavShow=setTimeout(function(){e.mainNav.classList.remove("main-nav--show")},900),this.timerMainNavHide=setTimeout(function(){e.mainNav.classList.remove("main-nav--hide")},900)};var menu=new Menu;menu.btnOpen.addEventListener("click",menu.open),menu.btnClose.addEventListener("click",menu.close),Slider.prototype._checkAnimations=function(){for(var e=0;e<this.slides.length;e++)if(this.slides[e].classList.contains(this.name+"__item--slide-right")||this.slides[e].classList.contains(this.name+"__item--slide-right-reverse")||this.slides[e].classList.contains(this.name+"__item--slide-left")||this.slides[e].classList.contains(this.name+"__item--slide-left-reverse"))return!0;return!1},Slider.prototype._setActiveBtn=function(e,t){var i=this.controls.querySelector('span[data-number="'+e+'"]'),s=this.controls.querySelector('span[data-number="'+t+'"]');i.classList.remove(this.name+"__control-btn--active"),s.classList.add(this.name+"__control-btn--active")},Slider.prototype._computeCurrentSlide=function(){for(var e,t=0;t<this.slides.length;t++)if(!this.slides[t].classList.contains(this.name+"__item--hide")){e=t;break}return e},Slider.prototype._changeSlide=function(e,t){var i=this._computeCurrentSlide();if(!this._checkAnimations()&&e!=i){var s=this,n=t||(i<e?"left":"right");this.slides[i].classList.add(this.name+"__item--slide-"+n),this.slides[e].classList.add(this.name+"__item--slide-"+n+"-reverse"),this.slides[e].classList.remove(this.name+"__item--hide"),this._setActiveBtn(i,e),this.timerRight=setTimeout(function(){s.slides[i].classList.add(s.name+"__item--hide"),s.slides[e].classList.remove(s.name+"__item--slide-"+n+"-reverse"),s.slides[i].classList.remove(s.name+"__item--slide-"+n)},900)}},Slider.prototype.slideLeft=function(){var e=this._computeCurrentSlide(),t=0!=e?e-1:this.slides.length-1;this._changeSlide(t,"right")},Slider.prototype.slideRight=function(){var e=this._computeCurrentSlide(),t=e!=this.slides.length-1?e+1:0;this._changeSlide(t,"left")},Slider.prototype.manageSlideChange=function(e){for(var t=e.target;t!==this.controls;){if(t.dataset.number)return void this._changeSlide(t.dataset.number);t=t.parentElement}};var promoSlider=new Slider("promo-slider");promoSlider.btnLeft.addEventListener("click",promoSlider.slideLeft),promoSlider.btnRight.addEventListener("click",promoSlider.slideRight),promoSlider.controls.addEventListener("click",promoSlider.manageSlideChange);var testimonialsSlider=new Slider("testimonials");testimonialsSlider.btnLeft.addEventListener("click",testimonialsSlider.slideLeft),testimonialsSlider.btnRight.addEventListener("click",testimonialsSlider.slideRight),testimonialsSlider.controls.addEventListener("click",testimonialsSlider.manageSlideChange);